(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(10),a=n.n(r),o=(n(15),n(16),n(2)),i=n(3),l=n(5),u=n(4),d=(n(17),n(7)),h=n.n(d),j=n(9),b="https://www.omdbapi.com/?apikey=".concat("1b23b47e"),m=function(){var e=Object(j.a)(h.a.mark((function e(){var t,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"tt3896198",e.next=3,fetch("".concat(b,"&i=").concat(t)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"&s=").concat(t)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=n(6),O=(n(19),n(0)),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return this.props.isOpen&&Object(O.jsx)("div",{className:"modal_wrapper",tabIndex:"-1","aria-label":"Modal for movie details",children:Object(O.jsxs)("div",{class:"modal_content",children:[this.props.children,Object(O.jsx)("div",{className:"text-center mt-5",children:Object(O.jsx)("button",{ariaLabel:"close",onClick:this.props.closeModal,className:"text-light rounded px-4 py-1",style:{backgroundColor:"#29508F",border:"unset"},children:"Close"})})]})})}}]),n}(c.Component),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={movie:{},isOpen:!1},c.openModal=c.openModal.bind(Object(v.a)(c)),c}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("What is props: ",this.props),m(this.props.movieId).then((function(t){return e.setState({movie:{title:t.Title,poster:t.Poster,runTime:t.Runtime,genre:t.Genre,plot:t.Plot,actors:t.Actors,rated:t.Rated}})})).catch((function(e){return console.error("An error occured: "+e)}))}},{key:"openModal",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this,t=this.state.movie,n=this.state.isOpen;return Object(O.jsxs)("div",{className:"row justify-content-center my-5 p-0",children:[Object(O.jsxs)("div",{className:"col-md-3 bg-light m-0 p-0",style:{border:"2px solid #29508F"},children:[Object(O.jsx)("img",{className:"img-fluid",src:t.poster,alt:"Movie poster for ".concat(t.title)}),Object(O.jsxs)("div",{className:"text-center px-4 py-2",children:[Object(O.jsx)("p",{className:"h4 text-center",style:{color:"#29508F"},children:t.title}),Object(O.jsx)("button",{onClick:this.openModal,className:"text-light rounded px-4 py-1",style:{backgroundColor:"#29508F",border:"unset"},children:"Details"})]})]}),Object(O.jsxs)(f,{isOpen:n,closeModal:function(){return e.setState({isOpen:!1})},children:[Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-md-4 d-flex flex-wrap justify-content-between h4",children:[Object(O.jsx)("p",{className:"h4",children:t.title}),Object(O.jsx)("p",{className:"text-monospace badge text-light",style:{backgroundColor:"#4276C9"},children:t.rated}),Object(O.jsx)("p",{className:"text-monospace badge text-light",style:{backgroundColor:"#4276C9"},children:t.runTime}),Object(O.jsx)("p",{className:"text-monospace badge text-light",style:{backgroundColor:"#4276C9"},children:t.genre})]})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-md-12",children:[Object(O.jsx)("p",{className:"modal_heading",children:"Plot"}),Object(O.jsx)("p",{children:t.plot})]})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-md-12",children:[Object(O.jsx)("p",{className:"modal_heading",children:"Actors"}),Object(O.jsx)("p",{children:t.actors})]})})]})]})}}]),n}(c.Component),g=(n(21),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={searchTerm:"batman"},c.handleChange=c.handleChange.bind(Object(v.a)(c)),c}return Object(i.a)(n,[{key:"handleChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"title",children:"Search Movies"}),Object(O.jsxs)("form",{className:"form",onSubmit:this.props.onSubmit,children:[Object(O.jsx)("input",{className:"input",value:this.state.searchTerm,onChange:this.handleChange}),Object(O.jsx)("button",{className:"button",type:"submit",children:"Search"})]})]})}}]),n}(c.Component)),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={isLoading:!1,searchTerm:"batman",movies:[],totalResults:""},c}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;p(this.state.searchTerm).then((function(t){return e.setState({movies:t.Search,totalResults:t.totalResults})})).catch((function(e){return console.error(e)}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.searchTerm!==t.searchTerm&&p(this.state.searchTerm).then((function(e){return n.setState({movies:e.Search,totalResults:e.totalResults})}))}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-3 offset-md-1",children:Object(O.jsx)(g,{onSubmit:function(t){t.preventDefault(),e.setState({searchTerm:t.target[0].value,isLoading:!0})}})}),Object(O.jsx)("div",{className:"col-md-6 offset-md-1",children:Object(O.jsx)("h2",{children:"List of Movies"})})]}),this.state.movies?this.state.movies.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(x,{movieId:e.imdbID})},e.imdbID)})):Object(O.jsx)("p",{children:"No results."})]})}}]),n}(c.Component),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={movieId:""},c}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;m().then((function(t){return e.setState({movieId:t.imdbID})})).catch((function(e){return console.error("An error occured: "+e)}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)("h1",{className:"text-center text-uppercase py-3",children:this.props.greeting}),Object(O.jsx)(y,{}),Object(O.jsx)("div",{children:Object(O.jsx)(x,{})})]})}}]),n}(c.Component);N.defaultProps={greeting:"Welcome to Shmoovie"};var C=N;var k=function(){return Object(O.jsx)("div",{className:"position-relative",style:{backgroundColor:"#042F75"},children:Object(O.jsx)(C,{})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root")),w()}},[[22,1,2]]]);
//# sourceMappingURL=main.87a02a73.chunk.js.map